%nav.navbar.navbar-default.navbar-fixed-top
  .container-fluid
    .nav.navbar-nav.navbar-right
      = link_to 'Product View', index_path, class: 'btn btn-default navbar-btn add-product'
      = link_to new_category_path, class: 'btn btn-success navbar-btn add-product' do
        %i.glyphicon.glyphicon-plus
        %span New Category
      = link_to new_product_path, class: 'btn btn-success navbar-btn add-product-to-category' do
        %i.glyphicon.glyphicon-plus
        %span New Product
.container
  .row
    .col-sm-12
      %h1.text-center.index-header Your Inventory!
      - if flash[:success]
        #flash.success.text-center
          = flash[:success]
      %table.table.table-striped.table-border
        %thead
          %tr
            %th Categories
            %th.text-center Price
            %th.text-center Quantity
        %tbody
          - @categories.each do |category|
            %tr
              %td
                = category.name
                = link_to 'Delete Category', category_path(category), :method => 'delete', class: 'btn btn-danger', data: {confirm: 'Are you sure you want to delete this category? This action can not be undone.'}
              - category.products.each do |product|
                %tr
                  %td= product.name
                  %td.text-center= product.price
                  %td.text-center= product.quantity
                  %td.text-right= link_to 'Edit', edit_product_path(product), class: 'btn btn-primary'
                  %td.text-left= link_to 'Delete', product_path(product), :method => 'delete', class: 'btn btn-danger', data: {confirm: 'Are you sure you want to delete this product? This action can not be undone.'}
